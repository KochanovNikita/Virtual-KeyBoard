(()=>{"use strict";const e=(e,t,n)=>{const a=[];return n.forEach((({code:n,ruUpper:s,enUpper:o,ru:c,en:r})=>{let i;i=t?"ru"===e?s:o:"ru"===e?c:r;const l=`\n        <button class="key" data-key="${n}">\n            ${i}\n        </button>\n       `;a.push(l)})),a.map((e=>e)).join("")};class t{constructor(e,t,n,a,s){this.code=e,this.ru=t,this.en=n,this.ruUpper=a,this.enUpper=s}}const n=[new t("Backquote","ё","`","Ё","~"),new t("Digit1","1","1","!","!"),new t("Digit2","2","2","@","@"),new t("Digit3","3","3","#","#"),new t("Digit4","4","4","$","$"),new t("Digit5","5","5","%","%"),new t("Digit6","6","6","^","^"),new t("Digit7","7","7","&","&"),new t("Digit8","8","8","*","*"),new t("Digit9","9","9","(","("),new t("Digit0","0","0",")",")"),new t("Minus","-","-","_","_"),new t("Equa","=","=","+","+"),new t("KeyQ","й","q","Й","Q"),new t("KeyW","ц","w","Ц","W"),new t("KeyE","у","e","У","E"),new t("KeyR","к","r","К","R"),new t("KeyT","е","t","Е","T"),new t("KeyY","н","y","Н","Y"),new t("KeyU","г","u","Г","U"),new t("KeyI","ш","i","Ш","I"),new t("KeyO","щ","o","Щ","O"),new t("KeyP","з","p","З","P"),new t("BracketLeft","х","[","Х","{"),new t("BracketRight","ъ","]","Ъ","}"),new t("KeyA","ф","a","Ф","A"),new t("KeyS","ы","s","Ы","S"),new t("KeyD","в","d","В","D"),new t("KeyF","а","f","А","F"),new t("KeyG","п","g","П","G"),new t("KeyH","р","h","Р","H"),new t("KeyJ","о","j","О","J"),new t("KeyK","л","k","Л","K"),new t("KeyL","д","l","Д","L"),new t("Semicolon","ж",";","Ж",":"),new t("Quote","э","'","Э",'"'),new t("KeyZ","я","z","Я","Z"),new t("KeyX","ч","x","Ч","X"),new t("KeyC","с","c","С","C"),new t("KeyV","м","v","М","V"),new t("KeyB","и","b","И","B"),new t("KeyN","т","n","Т","N"),new t("KeyM","ь","m","Ь","M"),new t("Comma","б",",","Б","<"),new t("Period","ю",".","Ю",">"),new t("Slash",".","/",",","?")],a=document.querySelector("body");let s,o=!1,c=!1,r=!1,i=!1;s=localStorage.getItem("language")?localStorage.getItem("language"):"en",a.innerHTML='\n    <div class="root">\n        <h1>Virtual Key-Board</h1>\n        <textarea></textarea>\n        <div class="board">\n            \n        </div>\n        <p>Клавиатура создана в операционной системе Windows</p>\n        <p>Комбинация для переключения языка: левыe ctrl + alt</p>\n        <p>Клавиши для изменения регистра: Caps Lock(нажать), Shift(зажать)</p>\n    </div>\n',((t,a)=>{document.querySelector(".board").innerHTML=`\n    <div class="board__line">\n        <div id="backqoute">\n            ${e(t,a,n.slice(0,1))} \n        </div>\n        <div class="board__keys">\n            ${e(t,a,n.slice(1,13))} \n        </div>\n        <button class="key" data-key="Backspace">Backspace</button>\n    </div>\n    <div class="board__letters">\n        <div class="board__line">\n            <button class="key" data-key="Tab">\n                Tab\n            </button>\n            <div class="board__keys">\n                ${e(t,a,n.slice(13,25))}\n            </div>\n            <button class="key" data-key="Delete">\n                Delete\n            </button>\n        </div>\n\n        <div class="board__line">\n            <button class="key key__control" data-key="CapsLock">\n                Caps Lock\n            </button>\n            <div class="board__keys">\n                ${e(t,a,n.slice(25,36))}\n            </div>\n            <button class="key" data-key="Enter">\n                Enter\n            </button>\n        </div>\n\n        <div class="board__line">\n            <button class="key key__control" data-key="ShiftLeft">\n                Shift\n            </button>\n            <div class="board__keys">\n                ${e(t,a,n.slice(36))}\n            </div>\n            <button class="key" data-key="ArrowUp">\n            &#8657;\n            </button>\n            <button class="key key__control" data-key="ShiftRight">\n                Shift\n            </button>\n        </div>\n\n        <div class="board__line">\n            <button class="key" data-key="ControlLeft">\n                Ctrl\n            </button>\n            <button class="key" data-key="MetaLeft">\n                Win\n            </button>\n            <button class="key" data-key="AltLeft">\n                Alt\n            </button>\n            <button class="key key__space" data-key="Space">\n                \n            </button>\n            <button class="key" data-key="AltRight">\n                Alt\n            </button>\n            <button class="key" data-key="ArrowLeft">\n            &#8656;\n            </button>\n            <button class="key" data-key="ArrowDown">\n            &#8659;\n            </button>\n            <button class="key" data-key="ArrowRight">\n            &#8658;\n            </button>\n            <button class="key" data-key="ControlRight">\n                Ctrl\n            </button>\n        </div>\n    </div>\n    `})(s,i);const l=document.querySelector("textarea"),d=document.querySelectorAll(".board__keys"),u=document.querySelector("#backqoute"),y=()=>{u.innerHTML=e(s,i,n.slice(0,1)),d[1].innerHTML=e(s,i,n.slice(13,25)),d[2].innerHTML=e(s,i,n.slice(25,36)),d[3].innerHTML=e(s,i,n.slice(36))},k=()=>{y(),d[0].innerHTML=e(s,i,n.slice(1,13))};function b(){if(l.focus(),l.selectionStart)return l.selectionStart;if(document.selection){const e=document.selection.createRange(),t=e.duplicate();return e.collapse(!0),t.moveToElementText(l),t.setEndPoint("EndToEnd",e),t.text.length}return 0}document.addEventListener("keydown",(e=>{const t=document.querySelector(".key[data-key='"+e.code+"'");if(null!==t){switch(t.classList.add("key__active"),e.code){case"Backspace":case"Enter":case"Delete":l.focus();break;case"Tab":e.preventDefault(),l.value+="    ";break;case"CapsLock":e.preventDefault(),i=!i,y();break;case"Space":e.preventDefault(),l.value+="  ";break;case"ControlLeft":e.preventDefault(),c=!0;break;case"AltLeft":e.preventDefault(),o=!0;break;case"ShiftLeft":case"ShiftRight":r||(e.preventDefault(),i=!i,k(),r=!0);break;default:e.preventDefault(),e.code.includes("Arrow")&&(l.value+=t.innerText),n.forEach((({code:n})=>{e.code===n&&(l.value+=t.innerText)}))}o&&c&&(s="en"===s?"ru":"en",localStorage.setItem("language",s),y()),e.stopPropagation()}})),document.addEventListener("keyup",(e=>{e.preventDefault();const t=document.querySelector(".key[data-key='"+e.code+"'");null!==t&&(t.classList.remove("key__active"),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||!r||(i=!i,k(),r=!1),o=!1,c=!1)})),document.addEventListener("mousedown",(e=>{if(e.target.classList.contains("key")){(n.find((({code:t})=>t===e.target.dataset.key))||e.target.dataset.key.includes("Arrow"))&&(l.value+=e.target.innerText)}switch(e.target.dataset.key){case"Tab":l.value+="    ";break;case"CapsLock":i=!i,y();break;case"Space":l.value+="  ";break;case"ShiftLeft":case"ShiftRight":r||(e.preventDefault(),i=!i,k(),r=!0);break;case"Backspace":l.value.length>0&&l.setRangeText("",b()-1,b(),"select");break;case"Delete":b()!==l.value.length&&l.setRangeText("",b(),b()+1,"select");break;case"Enter":l.setRangeText("\n",b(),b(),"select")}})),document.addEventListener("mouseup",(e=>{"ShiftLeft"!==e.target.dataset.key&&"ShiftRight"!==e.target.dataset.key||!r||(i=!i,k(),r=!1)}))})();
//# sourceMappingURL=main.35fead8e2c08072ca11b.js.map